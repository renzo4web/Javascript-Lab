(()=>{"use strict";let e,n,a,r={score:0,stack:[],win:!1,cardsTaken:0,stop:!1};const c=()=>{n={name:"Human",...r},a={name:"Terminator",...r}};c();const t=e=>Math.floor(Math.random()*e),s=e=>{const n=["C","D","H","S"],a=["J","K","Q","A"],r=t(11);if(r<10&&r>=2){const a=t(4);e.stack=r+n[a],e.score+=r}else{const r=t(4);e.stack=a[r]+n[t(4)],e.score+="A"===a[r]?11:10}},o=(e,n)=>{const a=document.createElement("img");a.src=`./cartas/${e.stack}.png`,n.appendChild(a),i(e),e.cardsTaken++},i=e=>{e===n?playerScore.textContent=n.score:machineScore.textContent=a.score},d=()=>clearInterval(e),l=(e,r)=>a.score>n.score&&a.score<=21?(alert("Machine Win Score: "+a.score),a.win=!0,void d()):e.score>21?(alert(`${r.name} Win`),r.win=!0,void d()):void(e.cardsTaken>=4&&d()),m=()=>{l(a,n),a.win?d():n.win||(s(a),o(a,machineCards))};btnTakeCard.addEventListener("click",()=>{n.win?d():(s(n),o(n,playerCards),l(n,a))}),btnStop.addEventListener("click",()=>{if(n.score>21)return alert(`${a.name} Win`),void(a.win=!0);e=setInterval(m,300)}),btnNewGame.addEventListener("click",()=>{c(),[playerScore,machineScore].forEach(e=>e.innerHTML=""),imgCards.forEach(e=>e.innerHTML=""),btnTakeCard.disabled=!1})})();